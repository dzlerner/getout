<!DOCTYPE html>
<html>
<head>
	<title>Get Out</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1.0, minimum-scale=1.0, maximum-scale=1.0">
	<link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
<div class="mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20">
  <div class="max-w-xl sm:mx-auto lg:max-w-2xl">
  	<img id="image" src="#" />
  	<h1 class="absolute top-0 p-2 max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-white bg-black sm:text-4xl md:mx-auto">
          get ðŸŒ² out
    </h1>
    <div class="flex flex-col mb-16 sm:text-center sm:mb-0 p-4">
      <div class="max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12">
        <p id="idea1" class="text-2xl text-black">
          You should really go <span id="activity" class="font-bold"></span> at the <a id="link" href="#"><span id="place" class="underline font-bold"></span> </a> in <a id="maplink" href="#"><span id="city" class="underline font-bold"></span>, <span id="state" class="underline font-bold"></span></a>.
        </p>
      </div>
      <!-- <div id="newprompt">
        <a
          href="#"
          class="inline-flex items-center justify-center h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md bg-deep-purple-accent-400 hover:bg-deep-purple-accent-700 focus:shadow-outline focus:outline-none"
        >
          Get started
        </a> -->
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">


	get_random = function (list) {
  return list[Math.floor((Math.random()*list.length))];} 

	async function callingFn() {
      try {
          const response = await fetch("https://api.airtable.com/v0/appnlYonEavLk9JZ4/Locations?api_key=keyMOl7ugP40OHL7O", {
              method: "get",
              headers: {
                  "Content-Type": "application/json"
              }
          });
          const json = await response.json();
          console.log("Success:", JSON.stringify(json));
          return json["records"]
      } catch (error) {
          console.error("Error:", error);
      }
  	}

  (async () => {
    var res = await callingFn();

    async function fetch_new_prompt(results) {
      const picked_prompt = get_random(results);
      document.getElementById('activity').innerHTML = picked_prompt["fields"]["Activity"]; 
      document.getElementById('place').innerHTML = picked_prompt["fields"]["Place"];
      document.getElementById('city').innerHTML = picked_prompt["fields"]["City"]; 
      document.getElementById('state').innerHTML = picked_prompt["fields"]["State"];
      document.getElementById('image').src = picked_prompt["fields"]["Image"][0]["url"]; 
      document.getElementById('link').href = picked_prompt["fields"]["Link"]; 
      document.getElementById('maplink').href = picked_prompt["fields"]["Map Link"]; 
    }

    fetch_new_prompt(res)

  })()


</script>

</body>
</html>




  


  




  








