<!DOCTYPE html>
<html>
<head>
	<title>Get Out</title>
	<link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
</head>
<body>
<div class="px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20">
  <div class="max-w-xl sm:mx-auto lg:max-w-2xl">
    <div class="flex flex-col mb-16 sm:text-center sm:mb-0">
 		<h2 class="max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-gray-900 sm:text-4xl md:mx-auto">
          get ðŸŒ² out
        </h2>
      <div class="max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12">
        <p id="idea1" class="text-base text-gray-700 md:text-lg">
          You should really go <span id="activity"></span> at the <span id="place"></span> in <span id="city">Bixby</span>, <span id="state">VT</span>.
        </p>
        <p class="text-base text-gray-700 md:text-lg">Youâ€™ll probably need a tent, food, water, matches. You can get that at Walmart, which is nearby.</p>
      </div>
      <div id="newprompt">
        <a
          href="#"
          class="inline-flex items-center justify-center h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md bg-deep-purple-accent-400 hover:bg-deep-purple-accent-700 focus:shadow-outline focus:outline-none"
        >
          Get started
        </a>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">


	get_random = function (list) {
  return list[Math.floor((Math.random()*list.length))];} 

	async function callingFn() {
      try {
          const response = await fetch("https://api.airtable.com/v0/appnlYonEavLk9JZ4/Locations?api_key=keyMOl7ugP40OHL7O", {
              method: "get",
              headers: {
                  "Content-Type": "application/json"
              }
          });
          const json = await response.json();
          console.log("Success:", JSON.stringify(json));
          return json["records"]
      } catch (error) {
          console.error("Error:", error);
      }
  	}

  (async () => {
    var res = await callingFn();

    async function fetch_new_prompt(results) {
      const picked_prompt = get_random(results);
      document.getElementById('activity').innerHTML = picked_prompt["fields"]["Activity"]; 
      document.getElementById('place').innerHTML = picked_prompt["fields"]["Place"];
      document.getElementById('city').innerHTML = picked_prompt["fields"]["City"]; 
      document.getElementById('state').innerHTML = picked_prompt["fields"]["State"]; 
    }

    fetch_new_prompt(res)

    document.addEventListener("DOMContentLoaded", function(){
    	fetch_new_prompt(res)
    });

  })()


</script>

</body>
</html>




  


  




  








